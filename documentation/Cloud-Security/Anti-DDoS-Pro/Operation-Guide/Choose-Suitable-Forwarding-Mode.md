# 选择合适的转发方式

IP高防配置转发策略时，支持多种灵活的转发方式，以满足不同的业务场景需要。
转发方式的选择适用于后端有多台服务器的情况，用不同的策略进行负载均衡。

## 转发规则规格

- 非网站类规则支持：轮询、加权轮询、源IP哈希
- 网站类规则支持：轮询、加权轮询

## 转发方式解释

1. 轮询
    - 定义：请求将按顺序发送到后端的服务器。
    - 它均衡地对待后端的每一台服务器，而不关心服务器实际的连接数和当前的系统负载。

2. 加权轮询
    - 定义：请求将根据源站配置的权重占比顺序，分配到后端服务器。权重值越高的服务器，被轮询到的次数也越高。　　
    - 因为不同的后端服务器可能机器的配置和当前系统的负载并不相同，因此它们的抗压能力也不相同。给配置高、负载低的机器配置更高的权重，让其处理更多的请求；配置低、负载高的机器，给其分配较低的权重，降低其系统负载。

3. 源IP哈希
    - 定义：当后端服务器不变时，相同的请求每次都映射到同一后端服务器。
    - 源IP哈希的思想是根据获取客户端的IP地址，通过哈希函数计算得到的一个数值，用该数值对服务器列表的大小进行取模运算，得到的结果便是客户端要访问服务器的序号

